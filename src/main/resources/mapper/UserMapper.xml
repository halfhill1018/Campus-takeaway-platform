<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.graduation.campustakeawayplatform.domain.repository.mapper.UserMapper">

    <resultMap id="BaseResultMap" type="com.graduation.campustakeawayplatform.domain.repository.PO.UserPO">
            <id property="id" column="id" jdbcType="VARCHAR"/>
            <result property="loginName" column="login_name" jdbcType="VARCHAR"/>
            <result property="passWord" column="pass_word" jdbcType="VARCHAR"/>
            <result property="sex" column="sex" jdbcType="TINYINT"/>
            <result property="address" column="address" jdbcType="VARCHAR"/>
            <result property="enableFlag" column="enable_flag" jdbcType="TINYINT"/>
            <result property="userType" column="user_type" jdbcType="TINYINT"/>
            <result property="createDate" column="create_date" jdbcType="TIMESTAMP"/>
            <result property="lastUpdateDate" column="last_update_date" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="Base_Column_List">
        id,login_name,pass_word,
        sex,address,enable_flag,
        user_type,create_date,last_update_date
    </sql>


<select id="selectLoginNameByLoginName" resultMap="BaseResultMap">
select login_name
from user
where
login_name = #{loginName,jdbcType=VARCHAR}
</select>

<insert id="insertSelective">
insert into user
<trim prefix="(" suffix=")" suffixOverrides=",">
<if test="id != null">id,</if>
<if test="loginName != null">login_name,</if>
<if test="passWord != null">pass_word,</if>
<if test="sex != null">sex,</if>
<if test="address != null">address,</if>
<if test="enableFlag != null">enable_flag,</if>
<if test="userType != null">user_type,</if>
<if test="createDate != null">create_date,</if>
<if test="lastUpdateDate != null">last_update_date,</if></trim>
values
<trim prefix="(" suffix=")" suffixOverrides=",">
<if test="id != null">#{id,jdbcType=VARCHAR},</if>
<if test="loginName != null">#{loginName,jdbcType=VARCHAR},</if>
<if test="passWord != null">#{passWord,jdbcType=VARCHAR},</if>
<if test="sex != null">#{sex,jdbcType=TINYINT},</if>
<if test="address != null">#{address,jdbcType=VARCHAR},</if>
<if test="enableFlag != null">#{enableFlag,jdbcType=TINYINT},</if>
<if test="userType != null">#{userType,jdbcType=TINYINT},</if>
<if test="createDate != null">#{createDate,jdbcType=TIMESTAMP},</if>
<if test="lastUpdateDate != null">#{lastUpdateDate,jdbcType=TIMESTAMP},</if>
</trim>
</insert>
    <select id="selectPassWordByLoginName" resultMap="BaseResultMap">
        select pass_word
        from user
        where
        login_name = #{loginName,jdbcType=VARCHAR}
    </select>
</mapper>
